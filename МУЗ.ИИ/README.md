# –ü—Ä–æ—Ç–æ—Ç–∏–ø –ú–£–ó.–ò–ò

–ò–ò-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –¥–ª—è –ø–æ–¥–±–æ—Ä–∞ –º—É–∑–µ–µ–≤ –∏ –≤—ã—Å—Ç–∞–≤–æ–∫ –≤ –ú–æ—Å–∫–≤–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π.

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ü–∞–π–ø–ª–∞–π–Ω —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ 5 –æ—Å–Ω–æ–≤–Ω—ã—Ö —ç—Ç–∞–ø–æ–≤:
1. **–ü–∞—Ä—Å–∏–Ω–≥ –∑–∞–ø—Ä–æ—Å–∞** - –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –±–∞–∑–æ–≤–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏–∑ –∑–∞–ø—Ä–æ—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2. **–î–∏–∞–ª–æ–≥–æ–≤–æ–µ —É—Ç–æ—á–Ω–µ–Ω–∏–µ** - –∑–∞–¥–∞–Ω–∏–µ —É—Ç–æ—á–Ω—è—é—â–∏—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –±–æ–ª—å—à–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
3. **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å—É—â–Ω–æ—Å—Ç–µ–π (NER)** - –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å—É—â–Ω–æ—Å—Ç–µ–π –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π
4. **–í–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫** - –ø–æ–∏—Å–∫ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö –º—É–∑–µ–µ–≤ –∏ –≤—ã—Å—Ç–∞–≤–æ–∫ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
5. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞** - –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ —Å –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ–º


### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
museum_rag/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ config.py              # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ embeddings.py          # –ú–æ–¥–µ–ª—å —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ vector_store.py        # –í–µ–∫—Ç–æ—Ä–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
‚îÇ   ‚îú‚îÄ‚îÄ ingestion.py           # –ò–Ω–≥–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ dialogue_manager.py    # –î–∏–∞–ª–æ–≥–æ–≤—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ ner_extractor.py       # –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å—É—â–Ω–æ—Å—Ç–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ pipeline_steps.py      # –≠—Ç–∞–ø—ã –ø–∞–π–ø–ª–∞–π–Ω–∞
‚îÇ   ‚îú‚îÄ‚îÄ final_response_builder.py  # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ app.py                 # CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îÇ   ‚îî‚îÄ‚îÄ tests/                 # –¢–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ data/                      # –î–∞–Ω–Ω—ã–µ
‚îú‚îÄ‚îÄ requirements.txt
‚îú‚îÄ‚îÄ .env.example
‚îî‚îÄ‚îÄ README.md
```

## –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ 

–ó–∞–ø—É—Å–∫–∞—é—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω—ã–µ —á–∞—Å—Ç–∏ –Ω–∞ Linux Mint. 
–ù–∞ –¥—Ä—É–≥–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö —Ç–µ—Å—Ç–æ–≤ –Ω–µ –ø—Ä–æ–≤–æ–¥–∏–ª–æ—Å—å.

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ Linux Mint

### –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞
```
# –û–±–Ω–æ–≤–∏—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
sudo apt update
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω—É–∂–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã (git, pip, venv –∏ –ø—Ä.)
sudo apt install -y git build-essential curl
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä—Å–∏—é Python
python3 --version || python3.10 --version
```

# –ï—Å–ª–∏ —É –≤–∞—Å –Ω–µ—Ç Python 3.10+, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–∞–∫–µ—Ç python3.10 (–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤–µ—Ä—Å–∏–∏ Mint —ç—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ), –ª–∏–±–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å deadsnakes PPA. –ü—Ä–∏–º–µ—Ä (—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ python3.10 –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω):
```
sudo apt install -y software-properties-common
sudo add-apt-repository ppa:deadsnakes/ppa -y
sudo apt update
sudo apt install -y python3.10 python3.10-venv python3.10-distutils
```

### –°–æ–∑–¥–∞–π—Ç–µ –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ venv –≤ –ø–∞–ø–∫–µ —Å–æ —Å–∫–∞—á–µ–Ω–Ω—ã–º –ú–£–ó.–ò–ò
```
python3.10 -m venv .venv
source .venv/bin/activate
```

# —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å pip (–æ–±–Ω–æ–≤–∏—Ç—å) –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```
python -m pip install --upgrade pip
pip install -r requirements.txt
pip install spacy
python -m spacy download ru_core_news_sm
```

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫ LM Studio (–ª–æ–∫–∞–ª—å–Ω—ã–π LLM API)
LM Studio ‚Äî –¥–µ—Å–∫—Ç–æ–ø/–ª–æ–∫–∞–ª—å–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –º–æ–¥–µ–ª–µ–π. –ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –º–æ–∂–Ω–æ —Å—Ç–∞—Ä—Ç–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä –ª–∏–±–æ —á–µ—Ä–µ–∑ GUI (Local Server / Developer tab), –ª–∏–±–æ —á–µ—Ä–µ–∑ CLI lms server start. 


### –°–æ–∑–¥–∞–π—Ç–µ .env –∏ –≤–Ω–µ—Å–∏—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é (–Ω–∏–∂–µ -- –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)):
```
LMSTUDIO_API_URL=
LMSTUDIO_MODEL_NAME=ai-sage_gigachat3-10b-a1.8b
VECTOR_STORE_DIR=./data/vector_store
EMBEDDING_MODEL_NAME=ai-forever/sbert_large_nlu_ru
TOP_K=5
CHUNK_SIZE=512
CHUNK_OVERLAP=50
MAX_CLARIFICATION_ROUNDS=2
```

### –ò–Ω–≥–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏ –∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```
(–ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è, —á—Ç–æ –≤—ã –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ museum_rag)
# —Å–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ (–≤ –ø—Ä–æ—Ç–æ—Ç–∏–ø–µ –Ω–µ—Ç API –º—É–∑–µ–π–Ω—ã—Ö –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä–æ–≤)
python -c "from src.ingestion import create_sample_data; create_sample_data()"
# –∑–∞–ø—É—Å—Ç–∏—Ç—å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º
python -m src.app --interactive
# –ª–∏–±–æ –µ–¥–∏–Ω–∏—á–Ω—ã–π –∑–∞–ø—Ä–æ—Å
python -m src.app --query "–ö—É–¥–∞ —Å—Ö–æ–¥–∏—Ç—å —Å –¥–µ–≤—É—à–∫–æ–π?"
# —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
python -m src.app --query "–ú–Ω–µ 25, –ª—é–±–ª—é —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é" --output results.json
```

### –¢–µ—Å—Ç—ã
```
pytest src/tests/
# –∏–ª–∏ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã
pytest src/tests/test_ner.py
pytest src/tests/test_vector_search.py
```

## üìä –î–∞–Ω–Ω—ã–µ

### –§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö

–ü–∞–π–ø–ª–∞–π–Ω –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–æ—Ä–º–∞—Ç–∞—Ö CSV –∏ JSON —Å–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ –ø–æ–ª—è–º–∏:
```json
{
  "id": "—É–Ω–∏–∫–∞–ª—å–Ω—ã–π_–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä",
  "museum_name": "–Ω–∞–∑–≤–∞–Ω–∏–µ_–º—É–∑–µ—è",
  "exhibition_title": "–Ω–∞–∑–≤–∞–Ω–∏–µ_–≤—ã—Å—Ç–∞–≤–∫–∏",
  "description": "–æ–ø–∏—Å–∞–Ω–∏–µ_–≤—ã—Å—Ç–∞–≤–∫–∏",
  "start_date": "2025-01-01",
  "end_date": "2025-12-31",
  "tags": ["—Ç–µ–≥1", "—Ç–µ–≥2"],
  "location": "–∞–¥—Ä–µ—Å_–º—É–∑–µ—è",
  "accessibility": ["–ª–∏—Ñ—Ç", "–ø–∞–Ω–¥—É—Å—ã"],
  "audience": ["–≤–∑—Ä–æ—Å–ª—ã–µ", "—Å–µ–º—å—è"]
}
```

## üí° –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
```
–ö—É–¥–∞ —Å—Ö–æ–¥–∏—Ç—å —Å –¥–µ–≤—É—à–∫–æ–π –Ω–∞ —Ä–æ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ —Å–≤–∏–¥–∞–Ω–∏–µ?
–ú–Ω–µ 25, —Å –¥–µ–≤—É—à–∫–æ–π –ª—é–±–∏–º —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é –∏ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –≤—ã—Å—Ç–∞–≤–∫–∏
–ö—É–¥–∞ –ø–æ–π—Ç–∏ –æ–¥–Ω–æ–º—É, –∫–æ–≥–¥–∞ –≥—Ä—É—Å—Ç–Ω–æ?
–°–µ–º—å—è —Å –¥–µ—Ç—å–º–∏, –Ω—É–∂–Ω–æ —á—Ç–æ-—Ç–æ —Ä–∞–∑–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω–æ–µ –∏ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ
```

## –î–∞–ª—å–Ω–µ–π—à–µ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ

- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ API –º—É–∑–µ–µ–≤
- [ ] –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- [ ] –ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
